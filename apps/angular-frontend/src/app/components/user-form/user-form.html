<div class="user-form-container">
  <h3>Créer un nouvel utilisateur</h3>
  
  @if (error()) {
    <div class="error-message">
      {{ error() }}
    </div>
  }

  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="user-form">
    <div class="form-group">
      <label for="name">Nom *</label>
      <input 
        type="text" 
        id="name" 
        formControlName="name"
        class="form-control"
        [class.error]="getFieldError('name')"
        placeholder="Entrez le nom">
      @if (getFieldError('name')) {
        <div class="field-error">
          {{ getFieldError('name') }}
        </div>
      }
    </div>

    <div class="form-group">
      <label for="email">Email *</label>
      <input 
        type="email" 
        id="email" 
        formControlName="email"
        class="form-control"
        [class.error]="getFieldError('email')"
        placeholder="Entrez l'email">
      @if (getFieldError('email')) {
        <div class="field-error">
          {{ getFieldError('email') }}
        </div>
      }
    </div>

    <div class="form-actions">
      <button 
        type="submit" 
        class="btn btn-primary"
        [disabled]="loading()">
        @if (loading()) {
          Création en cours...
        } @else {
          Créer l'utilisateur
        }
      </button>
    </div>
  </form>
</div>
